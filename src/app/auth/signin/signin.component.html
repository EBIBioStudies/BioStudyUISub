<st-auth-container>
  <div class="alert" [ngClass]="{'alert-danger': error, 'invisible': !error}">
    <div class="message">
      {{error ? error.message : '&nbsp;'}}
      Please check the fields below and try again, if the problem persists, drop an email to <a
        href="mailto:biostudies@ebi.ac.uk">biostudies@ebi.ac.uk</a>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h4 class="card-title">Welcome</h4>
      <h6 class="card-subtitle mb-2 text-muted">Please sign in to access to your studies.</h6>
      <form name="signInForm" (ngSubmit)="onSubmit(signInForm)" #signInForm="ngForm" data-testid="signInForm" novalidate>
        <div class="form-group" [ngClass]="{'was-validated': email.invalid && email.touched}">
          <label for="email">Email address</label>
          <input type="email" class="form-control" id="email" name="email" email="true" [(ngModel)]="model.login"
            #email="ngModel" autofocus required>
          <div class="invalid-feedback" *ngIf="email.invalid && email.touched">Please enter a valid email</div>
        </div>
        <div class="form-group" [ngClass]="{'was-validated': password.invalid && password.touched}">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password" name="password" [(ngModel)]="model.password"
            #password="ngModel" required>
          <div class="invalid-feedback" *ngIf="password.invalid && password.touched">Please enter a password</div>
        </div>
        <button type="submit" class="btn btn-primary my-2" [disabled]="isLoading">
          Log In
          <span *ngIf="isLoading"><i class="fa fa-cog fa-spin"></i></span>
        </button>
        <div class="text-right">
          <a routerLink="/password_reset_request">Forgot your password?</a>
        </div>
        <div class="text-right">
          <a routerLink="/resend_activation_link">Resend activation email</a>
        </div>
      </form>
    </div>
    <div class="card-footer text-muted">
      Don't have an account?
      <a routerLink="/signup">
        Register
        <i class="fa fa-chevron-circle-right" aria-hidden="true"></i>
      </a>
    </div>
  </div>
</st-auth-container>
