<div class="row-offcanvas row-offcanvas-left">

    <directory-sidebar
            name="userDirsSidebar"
            [(ngModel)]="rootPath"
            (select)="onRootPathSelect($event)"
            (toggle)="sideBarCollapsed=!sideBarCollapsed"
            [collapsed]="sideBarCollapsed">
    </directory-sidebar>

    <div class="navbar-default navbar-subm-fixed"
         [ngClass]="{'collapse-left': sideBarCollapsed}">
        <nav>
            <div class="nav-block col-xs-8">
                <i class="fa fa-angle-double-right"></i>&nbsp;<directory-path [path]="path.rel" (change)="onRelativePathChange($event)"></directory-path>
            </div>
                <div class="nav-block clearfix col-xs-4">
                <file-upload-badge class="upload-count"
                                   (select)="onUploadSelect($event)"></file-upload-badge>
            <div class="btn-group pull-right" role="group">
                <ftp-upload-button></ftp-upload-button>
            </div>
            <div class="btn-group pull-right" style="margin-right:1em;background-color:#b5d7ec;border-radius: 3px;" role="group">
                <file-upload-button class="pull-right"
                                    [multiple]="true"
                                    [isDirOnly]="isBulkMode"
                                    (select)="onUploadFilesSelect($event)"
                                    tooltip="{{isBulkMode ? 'Select a folder' : 'Select files'}}"
                                    placement="bottom"
                                    #fileEl></file-upload-button>
                <span *ngIf="fileEl.isDirSupport" class="mode-toggle checkbox pull-right" style="padding-left:6pt">
                    <label>
                        <input type="checkbox"
                               name="folder-mode"
                               [(ngModel)]="isBulkMode">
                        <span>Bulk folder</span>
                    </label>
                </span>
            </div>
            </div>
        </nav>
    </div>
    <div class="container-fluid navbar-subm-margin">
        <aside class="right-side" [ngClass]="{'collapse-left' : sideBarCollapsed}">
            <section class="content">
                <button class="btn btn-default btn-link"
                        (click)="onBackButtonClick()"
                        *ngIf="backButton">
                    <i class="fa fa-chevron-circle-left" aria-hidden="true"></i>
                    Back to submission
                </button>
                <div class="panel">
                    <div class="row">
                        <div class="col-xs-12">
                            <ag-grid-angular style="width: 100%; height: 450px;" class="ag-theme-fresh"
                                             [gridOptions]="gridOptions"
                                             [columnDefs]="columnDefs"
                                             enableSorting
                                             enableColResize
                                             rowHeight="30"
                                             (rowDoubleClicked)="onRowDoubleClick($event)">
                            </ag-grid-angular>
                        </div>
                    </div>
                </div>
            </section>
        </aside>
    </div>
</div>
