<container-root>
    <aside class="col-xs-10 col-xs-offset-1">
        <h3>Submissions</h3>

        <span class="pull-right">
            <button class="btn btn-primary"
                    (click)="onUploadSubmClick($event)"
                    [disabled]="isBusy"
                    tooltip="Create/Update a submission from a file"
                    container="body">
                <i class="fa fa-upload" aria-hidden="true"></i>
                <span>Direct upload</span>
            </button>
            <button class="btn btn-primary"
                    (click)="onNewSubmClick($event)"
                    [disabled]="isBusy"
                    tooltip="Create a new submission manually"
                    container="body">
                <i class="fa fa-plus-circle" aria-hidden="true"></i>
                <span>Add new</span>
            </button>
        </span>
        <tabset>
            <tab [active]="!showSubmitted"
                 (select)="onSubmTabSelect(false)">
                <template tabHeading>
                    <span tooltip="New studies pending submission or incomplete"
                          container="body">
                        <i class="fa fa-clock-o" aria-hidden="true"></i>
                        Pending
                    </span>
                </template>
            </tab>
            <tab [active]="showSubmitted"
                 (select)="onSubmTabSelect(true)">
                <template tabHeading>
                    <span tooltip="Studies already submitted or revised"
                          container="body">
                        <i class="fa fa-database" aria-hidden="true"></i>
                        Sent
                    </span>
                </template>
            </tab>
        </tabset>
        <section>
            <div class="panel panel-info">
                <div class="row subm-list">
                    <div class="col-xs-12">
                        <!-- Grid options set to 15 30-pixel rows per page + 40px-height heading + 40px-height footer => height = 450px + 80px  -->
                        <ag-grid-angular #agGrid style="width: 100%; height: 530px;" class="ag-fresh"
                                         [gridOptions]="gridOptions"
                                         [columnDefs]="columnDefs"
                                         (cellClicked)="onRowClicked($event)">
                        </ag-grid-angular>
                    </div>
                </div>
            </div>
        </section>
        <a href="https://www.ebi.ac.uk/biostudies/studies/" target="_blank">
            <i class="fa fa-fw fa-external-link-square"></i>Search published submissions
        </a>
    </aside>
</container-root>
<subm-add-dialog #addDialog
                 [projectNames]="allowedPrj"
                 [onSubmit]="createSubmission.bind(this)">
</subm-add-dialog>
<confirm-dialog #confirmDialog></confirm-dialog>