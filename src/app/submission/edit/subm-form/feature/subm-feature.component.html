<div *ngIf="!featureForm.isEmpty" class="col-xs-12">
    <label class="control-label">{{featureForm.prettyName | lowercase | titlecase}}</label>
    <span *ngIf="!readonly && !featureForm.isRequired"
          class="text-muted pull-right">
                <i *ngIf="featureForm.hasRequiredGroups">
                   Required at least one {{featureForm.requiredGroups.join(' or ')}}
                </i>
                <i *ngIf="!featureForm.hasRequiredGroups">
                    Optional
                </i>
    </span>

    <span>
        <strong class="text-muted" *ngIf="featureForm.isRequired">
        (at least one is required)
        </strong>
        <strong class="text-danger" *ngIf="errorNum">Please review the fields below</strong>
    </span>

    <div class="panel panel-default feature">
        <div *ngIf="!readonly" class="panel-heading clearfix">
            <div *ngIf="isMenu" class="btn-toolbar pull-left" role="toolbar">
                <div class="btn-group" dropdown>
                    <button type="button" class="btn btn-xs btn-default" dropdownToggle>
                        <i class="fa fa-bars" aria-hidden="true"></i>
                    </button>
                    <ul *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="single-button">
                        <li *ngFor="let op of operations" role="menuitem">
                            <a class="dropdown-item" (click)="op.callback()">{{op.label}}</a>
                        </li>
                    </ul>
                </div>
            </div>
            <i class="fa fa-lg {{featureForm.icon}}"></i>
            <div class="panel-description col-xs-9 col-sm-10 col-lg-11">
                <span [innerHTML]="featureForm.description"></span>
                <div *ngIf="featureForm.columnNamesAvailableCached.length && userData.isPrivileged">
                    <strong>{{featureForm.hasUniqueColumns ? 'More' : 'Available'}} {{featureForm.canHaveMultipleRows ? 'column' : 'key'}}s</strong>:
                    <i>{{featureForm.columnNamesAvailableCached.join(', ')}}.</i>
                </div>
            </div>
            <span class="label label-danger pull-right"
                  *ngIf="featureForm.hasErrors">{{featureForm.errorCount}} error{{featureForm.errorCount > 1 ? 's' : ''}}</span>
        </div>

        <div class="panel-body" #featureEl>
            <div *ngIf="!readonly">
                <subm-feature-grid *ngIf="featureForm.canHaveMultipleRows; else featureList"
                                   [featureForm]="featureForm"
                                   [readonly]="readonly">
                </subm-feature-grid>
                <ng-template #featureList>
                    <subm-feature-list [featureForm]="featureForm"
                                       [readonly]="readonly">
                    </subm-feature-list>
                </ng-template>
            </div>
        </div>
    </div>
</div>