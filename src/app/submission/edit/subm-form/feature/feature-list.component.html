<div class="container-fluid" [formGroup]="featureForm.form">
    <div class="row" style="margin-bottom:15px;border-bottom:1px solid #ccc">
        <div class="col-md-3"><h5>key</h5></div>
        <div class="col-md-9"><h5>value</h5></div>
    </div>
    <div class="row" *ngFor="let column of columns; let idx = index">
        <div class="col-md-3">
            <div class="form-group"
                 [ngClass]="{'has-error': featureForm.columnControl(column.id).invalid}"
                 style="margin-right:15px">
                <input type="text"
                       class="form-control control-label input-sm"
                       [readonly]="readonly"
                       [(ngModel)]="column.name"
                       [formControl]="featureForm.columnControl(column.id)">
            </div>
        </div>
        <div class="col-md-9">
            <div class="form-group">
                <div class="input-group">
                    <subm-field
                            [type]="column.valueType"
                            [(ngModel)]="feature.rows[0].valueFor(column.id).value"
                            [readonly]="readonly"
                            isSmall="true"
                            [formControl]="featureForm.rowValueControl(0,column.id)">
                    </subm-field>
                    <span *ngIf="!readonly"
                          class="input-group-btn">
                              <button type="button"
                                      class="btn btn-sm btn-danger btn-flat"
                                      (click)="featureForm.feature.removeRowAt(idx)">
                                   <i class="fa fa-trash-o"></i>
                              </button>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>