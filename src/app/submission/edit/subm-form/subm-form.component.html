<form *ngIf="sectionForm" class="form-horizontal"
      [formGroup]="sectionForm.form"
      (ngSubmit)="onSubmit($event)">

    <div *ngFor="let field of sectionForm.fields"
         class="form-group row">
        <div class="col-sm-12"
             [ngClass]="{'has-error': sectionForm.fieldControl(field.id).invalid}">
            <label class="control-label">
                <span class="text-black">{{field.name}}</span>
                {{sectionForm.formErrors[field.id] ? sectionForm.formErrors[field.id] : ''}}
            </label>
            <subm-field
                [type]="field.valueType"
                [name]="field.name"
                [readonly]="readonly"
                [required]="field.type.required"
                [(ngModel)]="field.value"
                [formControl]="sectionForm.fieldControl(field.id)">
            </subm-field>
        </div>
    </div>

    <div *ngFor="let feature of sectionForm.features">
        <label class="control-label" *ngIf="feature.size() > 0">{{feature.pluralName()}}</label>
        <subm-feature [featureForm]="sectionForm.featureForm(feature.id)"
                      [readonly]="readonly">
        </subm-feature>
    </div>
</form>