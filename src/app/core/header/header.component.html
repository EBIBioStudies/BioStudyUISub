<!-- Header Navbar: style can be found in header.less -->
<nav class="navbar navbar-bsst navbar-fixed-top" role="navigation">
    <global-error></global-error>
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" (click)="toggleCollapsed()">
                <i class="fa fa-bars" aria-hidden="true"></i>
            </button>
            <a  class="navbar-brand"
                routerLink="/submissions">
                <div class="logo-bsst">
                    <span class="name-bsst">submission tool</span> <span class="version-bsst">v{{appVersion}}</span>
                </div>
            </a>
        </div>

        <div class="collapse navbar-collapse" [collapse]="navCollapsed">
            <ul class="nav navbar-nav navbar-right">
                <li *ngIf="!userLoggedIn && !userRegistering">
                    <button class="btn navbar-btn"
                            routerLink="/signup"
                            routerLinkActive="active"
                            tooltip="Register as new user"
                            placement="bottom"
                            container="body"
                            (click)="toggleCollapsed()">
                        <i class="fa fa-user-plus fa-fw fa-lg"></i>
                        Register
                    </button>
                </li>
                <li *ngIf="!userLoggedIn && !userLoggingIn">
                    <button class="btn navbar-btn"
                            routerLink="/signin"
                            tooltip="Log in to access studies"
                            placement="bottom"
                            container="body"
                            (click)="toggleCollapsed()">
                        <i class="fa fa-sign-in fa-lg"></i>
                        Log in
                    </button>
                </li>

                <li *ngIf="userLoggedIn">
                    <button class="btn navbar-btn"
                            routerLink="submissions"
                            routerLinkActive="active"
                            tooltip="List of submissions"
                            placement="bottom"
                            container="body"
                            (click)="toggleCollapsed()">
                        <i class="fa fa-fw fa-lg fa-cloud-upload"></i>
                        Submissions
                    </button>
                </li>

                <li *ngIf="userLoggedIn">
                    <button class="btn navbar-btn"
                            routerLink="files"
                            routerLinkActive="active"
                            tooltip="Upload or list your files"
                            placement="bottom"
                            container="body"
                            (click)="toggleCollapsed()">
                        <i class="fa fa-fw fa-folder-open fa-lg"></i>
                        Files
                    </button>
                </li>

                <li *ngIf="userLoggedIn">
                    <button class="btn navbar-btn"
                            routerLink="/help"
                            routerLinkActive="active"
                            tooltip="How to use this tool"
                            placement="bottom"
                            container="body"
                            (click)="toggleCollapsed()">
                        <i class="fa fa-fw fa-question-circle fa-lg"></i>
                        Help
                    </button>
                </li>

                <li *ngIf="userLoggedIn">
                    <button class="btn navbar-btn"
                            (click)="signOut()"
                            [disabled]="isBusy">
                        <i *ngIf="!isBusy" class="fa fa-fw fa-sign-out fa-lg"></i>
                        <i *ngIf="isBusy" class="fa fa-fw fa-cog fa-spin"></i>
                        Log out
                    </button>
                </li>
            </ul>
        </div>
    </div>
    <div class="loading-bar" [ngClass]="{'animate': isPendingReq}"></div>
</nav>