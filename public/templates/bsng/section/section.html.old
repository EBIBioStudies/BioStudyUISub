
<accordion id="ac2" close-others="false" >
    <accordion-group is-open="true" ng-show="section.annotations.length > 0"
                     heading="Annotations">
        <div class="col-lg-12" ng-repeat="annotation in section.annotations">
            <div class="col-sm-3 margin-right">
                <div class="form-group" bs-show-errors>

                    <input type="text" name="annotationKey" ng-model="section.annotations[$index].key"
                           typeahead="item.name for item in annotationKeys | filter:$viewValue | limitTo:30"
                           typeahead-append-to-body="true" min-search="0"
                           class="form-control"
                           placeholder="Type a key" ng-required="true">
                </div>
            </div>
            <div class="col-sm-8">
                <div class="form-group" bs-show-errors>

                    <p class="input-group">
                        <input type="text" ng-model="section.annotations[$index].value" class="form-control"
                               placeholder="Enter a value" name="annotationValue" ng-required="true">
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-danger  btn-flat"
                                                    ng-click="deleteAnnotation($index, section)">
                                                <i class="fa fa-trash-o fa-fw"></i>
                                            </button>
                                        </span>
                    </p>
                </div>
            </div>
        </div>

    </accordion-group>

    <accordion-group is-open="section.links.open" ng-show="section.links.length > 0" heading="Links">
        <div class="col-lg-12" ng-repeat="link in submission.links">
            <div class="col-sm-3 margin-right">
                <div class="form-group" ms-show-validation>

                    <input type="text" ng-model="section.links[$index].url"
                           pattern="^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?"
                           typeahead="item.name for item in linkKeys | filter:$viewValue | limitTo:30"
                           typeahead-append-to-body="true" min-search="0"
                           class="form-control"
                           required
                           placeholder="Type a valid link">
                </div>
            </div>

            <div class="col-sm-8">
                <div class="form-group" bs-show-validation ms-show-validation>
                    <p class="input-group">
                        <input type="text" ng-model="section.links[$index].description" class="form-control"
                               placeholder="Enter a description" required>
                                            <span class="input-group-btn">
                                            <button type="button" class="btn btn-danger  btn-flat"
                                                    ng-click="deleteLink($index)">
                                                <i class="fa fa-trash-o fa-fw"></i>
                                            </button>
                                        </span>
                    </p>
                </div>
            </div>

        </div>


    </accordion-group>

    <accordion-group is-open="section.files.open" ng-show="section.files.length > 0" heading="Files">
        <table class="table-responsive table-bordered" tr-ng-grid=""
               items="section.files" page-items="10"
               selection-mode="None" enable-filtering="false">
            <thead>
            <tr>
                <th field-name="name" display-name="Name" enable-filtering="false"
                    enable-sorting="false" cell-width="10em" cell-height="10px" display-align="right">
                </th>
                <th>
                    <div class="tr-ng-title">
                        Description
                    </div>
                </th>
                <th>
                    <div class="tr-ng-title">
                        Actions
                    </div>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>
                    <input type="text" class="form-control" id="{{gridDisplayItem.name}}" placeholder="Study title">
                </td>
                <td>
                    <button type="button" class="btn btn-danger btn btn-flat"
                            ng-click="deletePatient(gridItem)">
                        <i class="fa fa-trash-o fa-fw"></i>
                    </button>

                </td>
            </tr>
            </tbody>
        </table>


    </accordion-group>
    <accordion-group ng-class="{test : test1}" is-open="section.sections.open" ng-show="section.sections.length > 0" ng-mouseenter="test1=true"
                     ng-mouseleave="test1=false" heading="Sections">
        <tabset>
            <tab ng-repeat="section in section.sections"
                 active="section.active">
                <tab-heading>
                    <span ng-bind="section.name">$index</span>
                </tab-heading>
                <ng-include data-src="'templates/bsng/sectionBtnBar.html'"></ng-include>
                <div class="form-group" ms-show-validation>

                    <label class="col-sm-2 control-label">Title</label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" name="name" ng-model="section.name"
                               placeholder="Enter the title of the section" required>
                    </div>

                </div>
                <div class="form-group" ms-show-validation>

                    <label class="col-sm-2 control-label">Description</label>
                    <div class="col-sm-8">
                        <textarea class="form-control" name="name" ng-model="section.description"
                                  placeholder="Enter the title of the section" required>

                        </textarea>
                    </div>

                </div>

                <ng-include src="'templates/bsng/section.html'"></ng-include>
            </tab>

        </tabset>

    </accordion-group>

</accordion>
